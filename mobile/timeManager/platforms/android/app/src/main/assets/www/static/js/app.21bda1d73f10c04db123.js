webpackJsonp([1],{"/Lqu":function(e,t){},"3TL5":function(e,t){},"4P3L":function(e,t){},"68f9":function(e,t){},"6FUv":function(e,t){},"7zck":function(e,t){},"8kY9":function(e,t,r){"use strict";var n=r("7+uW"),a=r("3EgV"),o=r.n(a),s=r("7zck");r.n(s);n.default.use(o.a),t.a=new o.a({icons:{iconfont:"fa"}})},DEWD:function(e,t){},Ffb1:function(e,t){},Gjng:function(e,t){},JCDq:function(e,t){},M93x:function(e,t,r){"use strict";var n={computed:{getBackgroundColor:function(){return this.darkMode?"#686767":"#FFFFFF"},darkMode:function(){return this.$store.state.darkMode},snackBar:function(){return this.$store.state.snackBar}},beforeCreate:function(){var e=JSON.parse(localStorage.getItem("areaChart")),t=JSON.parse(localStorage.getItem("barChart")),r=JSON.parse(localStorage.getItem("lineChart")),n=JSON.parse(localStorage.getItem("donutChart"));e&&this.$store.commit("loadChart",e),t&&this.$store.commit("loadChart",t),r&&this.$store.commit("loadChart",r),n&&this.$store.commit("loadChart",n)}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("vue-announcer"),e._v(" "),r("v-app",{style:{backgroundColor:e.getBackgroundColor},attrs:{light:!e.darkMode,dark:e.darkMode}},[r("v-snackbar",{attrs:{timeout:2e3,color:e.snackBar.color},model:{value:e.snackBar.displayed,callback:function(t){e.$set(e.snackBar,"displayed",t)},expression:"snackBar.displayed"}},[e._v(e._s(e.snackBar.text))]),e._v(" "),r("router-view")],1)],1)},staticRenderFns:[]};var o=r("VU/8")(n,a,!1,function(e){r("XCxP")},null,null);t.a=o.exports},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=r("7+uW"),n=r("M93x"),a=r("cHtD"),o=r("olkN"),s=r("8kY9"),i=r("6FUv"),c=(r.n(i),r("ao2D")),u=(r.n(c),r("KmoK")),l=r.n(u),d=r("0UmN"),m=r.n(d);t.default.use(l.a,{},a.a),e.Raphael=m.a,t.default.config.productionTip=!1,new t.default({router:a.a,store:o.a,vuetify:s.a,render:function(e){return e(n.a)}}).$mount("#app")}.call(t,r("DuR2"))},XCxP:function(e,t){},Xk9Z:function(e,t){},ZC2B:function(e,t){},ao2D:function(e,t){},axlK:function(e,t){},cHtD:function(e,t,r){"use strict";var n=r("7+uW"),a=r("/ocq"),o=r("olkN"),s=r("fZjL"),i=r.n(s),c=r("BO1k"),u=r.n(c),l=r("OvRC"),d=r.n(l),m=r("Xxa5"),h=r.n(m),v=r("exGp"),f=r.n(v),p=r("iINK"),g={components:{AreaChart:p.AreaChart},props:{data:Array},computed:{colors:function(){return this.$store.state.areaChart.colors},darkMode:function(){return this.$store.state.darkMode}},data:function(){return{}}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",{attrs:{dark:this.darkMode}},[t("v-card-title",[this._v("Last Month (Worked Hours)")]),this._v(" "),this.data.length?t("area-chart",{attrs:{id:"area",data:this.data,xkey:"date",ykeys:["value"],labels:["Worked hours"],"line-colors":this.colors,grid:"true","grid-text-weight":"bold"}}):t("v-card-text",[this._v("Havn't worked last month !")])],1)},staticRenderFns:[]};var _=r("VU/8")(g,k,!1,function(e){r("u4v6")},"data-v-6c97cc44",null).exports,w={components:{DonutChart:p.DonutChart},props:{data:Array},computed:{colors:function(){return this.$store.state.donutChart.colors},darkMode:function(){return this.$store.state.darkMode}}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",{attrs:{dark:this.darkMode}},[t("v-card-title",[this._v("Yesterday")]),this._v(" "),this.data.length?t("donut-chart",{attrs:{id:"donut",data:this.data,colors:this.colors,resize:"true"}}):t("v-card-text",[this._v("\n    Havn't worked yesterday !\n  ")])],1)},staticRenderFns:[]};var y=r("VU/8")(w,C,!1,function(e){r("h7zS")},"data-v-3fed031c",null).exports,x={components:{BarChart:p.BarChart},props:{data:Array},computed:{colors:function(){return this.$store.state.barChart.colors},darkMode:function(){return this.$store.state.darkMode}},data:function(){return{}}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",{attrs:{dark:this.darkMode}},[t("v-card-title",[this._v("Last Week")]),this._v(" "),this.data.length?t("bar-chart",{attrs:{id:"bar",data:this.data,xkey:"date",ykeys:["value"],labels:["Worked hours"],"bar-colors":this.colors,grid:"true","grid-text-weight":"bold",resize:"true"}}):t("v-card-text",[this._v("Havn't worked last week !")])],1)},staticRenderFns:[]};var $=r("VU/8")(x,b,!1,function(e){r("3TL5")},"data-v-e41d1a44",null).exports,M={components:{LineChart:p.LineChart},props:{data:Array},computed:{colors:function(){return this.$store.state.lineChart.colors},darkMode:function(){return this.$store.state.darkMode}},data:function(){return{}}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",{attrs:{dark:this.darkMode}},[t("v-card-title",[this._v("Last Month (Clock'In / Clock'Out)")]),this._v(" "),this.data.length?t("line-chart",{attrs:{id:"line",data:this.data,xkey:"date",ykeys:["start","end"],labels:["Clock'in","Clock'out"],"line-colors":this.colors,grid:"true","grid-text-weight":"bold",resize:"true"}}):t("v-card-text",[this._v("Havn't worked last month !")])],1)},staticRenderFns:[]};var D={name:"WorkingTimes",components:{DonutChart:y,LineChart:r("VU/8")(M,T,!1,function(e){r("Xk9Z")},"data-v-5e762b7c",null).exports,BarChart:$,AreaChart:_},computed:{username:function(){return this.$route.params.username},id:function(){return this.$route.params.id},areaChart:function(){return this.$store.state.areaChart},barChart:function(){return this.$store.state.barChart},lineChart:function(){return this.$store.state.lineChart},donutChart:function(){return this.$store.state.donutChart},today:function(){var e=Date.now();return this.formateDate(e)},yesterday:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);return this.formateDate(t)},lastWeek:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7);return this.formateDate(t)},lastMonth:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate());return this.formateDate(t)},lastYear:function(){var e=new Date,t=new Date(e.getFullYear()-1,e.getMonth(),e.getDate());return this.formateDate(t)},charts:function(){var e=[];return e[this.areaChart.position]=this.areaChart,e[this.barChart.position]=this.barChart,e[this.donutChart.position]=this.donutChart,e[this.lineChart.position]=this.lineChart,e}},data:function(){return{workingTimes:[],areaData:[],barData:[],donutData:[],lineData:[]}},mounted:function(){var e=this;return f()(h.a.mark(function t(){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getWorkingTimes",{id:e.id,start:e.lastWeek,end:e.today});case 2:r=t.sent,e.workingTimes=r.data.data,e.setupDonutData(),e.setupBarData(),e.setupLineData(),e.setupAreaData();case 8:case"end":return t.stop()}},t,e)}))()},methods:{getWorkedHours:function(e){var t=e.start.split("T")[1].split("Z")[0],r=e.end.split("T")[1].split("Z")[0],n=this.timeToInt(t);return(this.timeToInt(r)-n)/3600},timeToInt:function(e){return 3600*e.split(":")[0]+60*e.split(":")[1]+parseInt(e.split(":")[2])},setupBarData:function(){var e=this,t=this.workingTimes.filter(function(t){return t.start.split("T")[0]>=e.lastWeek.split(" ")[0]});if(t.length){t.sort(function(e,t){return new Date(e.start)-new Date(t.start)}),this.barData=t.map(function(t){return{value:e.getWorkedHours(t),date:t.start.split("T")[0]}});var r=this.barData.reduce(function(e,t){var r=null;return r=e[t.date]&&e[t.date].value?e[t.date].value+t.value:t.value,e[t.date]={value:r,date:t.date},e},d()(null)),n=void 0,a=[],o=1,s=[31,29,31,30,31,30,31,31,30,31,30,31],c=!0,l=!1,m=void 0;try{for(var h,v=u()(i()(r));!(c=(h=v.next()).done);c=!0){var f=(n=h.value).split("-");if(f[2]-1<=s[f[1]-1]){var p=f[0]+"-"+f[1]+"-"+(f[2]-1);r[p]||1===o||a.push({value:0,date:p})}a.push(r[n]),o++}}catch(e){l=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(l)throw m}}this.barData=a}else this.barData=[]},setupDonutData:function(){var e=this,t=this.workingTimes.find(function(t){return t.start.split("T")[0]===e.yesterday.split(" ")[0]});if(t){var r=this.getWorkedHours(t),n=9-r;this.donutData=[{label:"Hours done",value:r},{label:"Hours to do",value:n}]}else this.donutData=[]},setupLineData:function(){var e=this,t=this.workingTimes.filter(function(t){return t.start.split("T")[0]>=e.lastMonth.split(" ")[0]});if(t.length){t.sort(function(e,t){return new Date(e.start)-new Date(t.start)}),this.lineData=t.map(function(t){return{start:e.timeToInt(t.start.split("T")[1].split("Z")[0])/3600,end:e.timeToInt(t.end.split("T")[1].split("Z")[0])/3600,date:t.start.split("T")[0]}});var r=this.lineData.reduce(function(e,t){var r=void 0,n=null;return e[t.date]&&e[t.date].start&&e[t.date].end?(r=e[t.date].start<t.start?e[t.date].start:t.start,n=e[t.date].end>t.end?e[t.date].end:t.end):(r=t.start,n=t.end),e[t.date]={start:r,end:n,date:t.date},e},d()(null)),n=void 0,a=[],o=!0,s=!1,c=void 0;try{for(var l,m=u()(i()(r));!(o=(l=m.next()).done);o=!0)n=l.value,a.push({date:r[n].date,start:r[n].start,end:r[n].end}),0}catch(e){s=!0,c=e}finally{try{!o&&m.return&&m.return()}finally{if(s)throw c}}this.lineData=a}else this.lineData=[]},setupAreaData:function(){var e=this,t=this.workingTimes.filter(function(t){return t.start.split("T")[0]>=e.lastYear.split(" ")[0]});t.length?(t.sort(function(e,t){return new Date(e.start)-new Date(t.start)}),this.areaData=t.map(function(t){return{value:e.getWorkedHours(t),date:t.start.split("T")[0]}})):this.areaData=[]},sanitize:function(e){return("0"+e).slice(-2)},formateDate:function(e){var t=new Date(e),r=t.getFullYear(),n=this.sanitize(t.getMonth()+1),a=this.sanitize(t.getDate()),o=this.sanitize(t.getHours()),s=this.sanitize(t.getSeconds());return r+"-"+n+"-"+a+" "+o+":"+this.sanitize(t.getMinutes())+":"+s},checkType:function(e,t){return e.type===t&&e.displayed},getSize:function(e){return e.displayed?e.size:0}}},A={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",[r("v-row",[e._v("\n      Dashboard of "+e._s(e.username)+"\n    ")]),e._v(" "),r("v-row",e._l(e.charts,function(t){return r("v-col",{key:t.position,attrs:{cols:e.getSize(t)}},[e.checkType(t,"areaChart")?r("AreaChart",{attrs:{data:e.areaData}}):e._e(),e._v(" "),e.checkType(t,"donutChart")?r("DonutChart",{attrs:{data:e.donutData}}):e._e(),e._v(" "),e.checkType(t,"barChart")?r("BarChart",{attrs:{data:e.barData}}):e._e(),e._v(" "),e.checkType(t,"lineChart")?r("LineChart",{attrs:{data:e.lineData}}):e._e()],1)}),1)],1)],1)},staticRenderFns:[]};var U=r("VU/8")(D,A,!1,function(e){r("pZYK")},"data-v-4a2e2e0b",null).exports,S=(r("OMJi"),{name:"ClockManager",computed:{darkMode:function(){return this.$store.state.darkMode},getColor:function(){return this.darkMode?"white":"dark"},getText:function(){return this.clockIn?this.time:"Not clocked in!"},todayStart:function(){var e=Date.now();return this.formateDate(e,"start")},todayEnd:function(){var e=Date.now();return this.formateDate(e,"end")},now:function(){var e=Date.now();return this.formateDate(e,"now")},id:function(){return this.$store.state.user.id}},data:function(){return{value:null,hoursToDo:8,startDateTime:null,clockIn:!1,time:null,interval:null}},mounted:function(){this.getLastClock()},methods:{setAnnouncer:function(e){this.$announcer.set(e)},sanitize:function(e){return("0"+e).slice(-2)},getLastClock:function(){var e=this;return f()(h.a.mark(function t(){var r,n,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getClocks",e.id);case 2:if(200===(r=t.sent).status){t.next=6;break}return e.$store.commit("createSnackBarError",{text:"An error occured while searching last clock!",announcer:e.$announcer}),t.abrupt("return");case 6:if(r.data.data.sort(function(e,t){return new Date(t.time)-new Date(e.time)}),(n=r.data.data.find(function(t){return t.time.split("T")[0]===e.todayStart.split(" ")[0]&&!0===t.status}))&&n.status){t.next=10;break}return t.abrupt("return");case 10:a=new Date(n.time),e.clock(a.valueOf()-72e5,!1);case 12:case"end":return t.stop()}},t,e)}))()},formateDate:function(e,t){var r=new Date(e),n=r.getFullYear(),a=this.sanitize(r.getMonth()+1),o=this.sanitize(r.getDate()),s=void 0;if("start"===t)s=n+"-"+a+"-"+o+" 00:00:01";else if("end"===t)s=n+"-"+a+"-"+o+" 23:59:59";else{var i=this.sanitize(r.getHours()),c=this.sanitize(r.getSeconds());s=n+"-"+a+"-"+o+" "+i+":"+this.sanitize(r.getMinutes())+":"+c}return s},setTime:function(){var e=Date.now()-this.startDateTime,t=Math.floor(e/36e5),r=Math.floor((e-36e5*t)/6e4),n=t+":"+r+":"+parseInt((e-36e5*t-6e4*r)/1e3),a=e/1e3,o=3600*this.hoursToDo;this.value=a/o*100,this.time=n},sendClock:function(){var e=this;return f()(h.a.mark(function t(){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:e.id,data:{clock:{time:e.now,status:!0,user:e.id}}},t.next=3,e.$store.dispatch("createClock",r);case 3:if(201===t.sent.status){t.next=7;break}return e.$store.commit("createSnackBarError",{text:"An error occured while creating clock!",announcer:e.$announcer}),t.abrupt("return");case 7:case"end":return t.stop()}},t,e)}))()},refresh:function(){},clock:function(e,t){var r=this;this.clockIn=!this.clockIn,t&&this.sendClock(),this.clockIn?(this.startDateTime=e,this.interval=setInterval(function(){r.setTime()},1e3)):(this.startDateTime=null,this.time=null,this.value=null,clearInterval(this.interval))}}}),E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12"},on:{mouseover:function(t){return e.setAnnouncer(e.getText)}}},[r("v-progress-circular",{attrs:{color:e.getColor,rotate:360,size:300,width:50,value:e.value}},[e._v(e._s(e.getText))])],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12"},on:{mouseover:function(t){return e.setAnnouncer("Select the number of hour to do, currently "+e.hoursToDo)}}},[r("v-slider",{attrs:{dark:e.darkMode,min:"0",max:"10",label:"Number of hour to do today"},model:{value:e.hoursToDo,callback:function(t){e.hoursToDo=t},expression:"hoursToDo"}}),e._v(" "),r("v-btn",{on:{mouseover:function(t){return e.setAnnouncer(e.clockIn?"Clock'OUT":"Clock'IN")},click:function(t){e.clock(Date.now(),!0)}}},[e._v(e._s(e.clockIn?"Clock'OUT":"Clock'IN"))])],1)],1)],1)],1)},staticRenderFns:[]};var P=r("VU/8")(S,E,!1,function(e){r("Gjng")},"data-v-783f6be1",null).exports,W={name:"DeleteWorkingTime",props:{currentItem:Object,openedDeleteDialog:Boolean},computed:{darkMode:function(){return this.$store.state.darkMode}},data:function(){return{item:{}}},mounted:function(){this.item=this.currentItem},methods:{setAnnouncer:function(e){this.$announcer.set(e)},handleConfirm:function(){this.$emit("confirmed",this.item.id)},handleCancel:function(){this.$emit("cancelled")}}},z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.openedDeleteDialog,callback:function(t){e.openedDeleteDialog=t},expression:"openedDeleteDialog"}},[r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-title",{staticClass:"headline"},[e._v("Delete Working Time")]),e._v(" "),r("v-card-text",[r("h3",[e._v("Deleting working time for user "+e._s(e.item.user))]),e._v(" "),r("p",[e._v(e._s(e.item.date))]),e._v(" "),r("p",[e._v(e._s(e.item.in))]),e._v(" "),r("p",[e._v(e._s(e.item.out))])]),e._v(" "),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),e._v(" "),r("v-btn",{attrs:{text:""},on:{mouseover:function(t){return e.setAnnouncer("cancel")},click:e.handleCancel}},[e._v("Cancel")]),e._v(" "),r("v-btn",{on:{mouseover:function(t){return e.setAnnouncer("confirm delete")},click:e.handleConfirm}},[e._v("Confirm")])],1)],1)],1)},staticRenderFns:[]},F=r("VU/8")(W,z,!1,null,null,null).exports,B={name:"UpdateWorkingTime",props:{currentItem:Object,openedUpdateDialog:Boolean},computed:{darkMode:function(){return this.$store.state.darkMode}},data:function(){return{date:null,start:null,end:null}},mounted:function(){this.date=this.currentItem.date,this.start=this.currentItem.in,this.end=this.currentItem.out},methods:{setAnnouncer:function(e){this.$announcer.set(e)},handleConfirm:function(){var e={id:this.currentItem.id,data:{workingtime:{start:this.date+" "+this.start,end:this.date+" "+this.end}}};this.$emit("confirmed",e)},handleCancel:function(){this.$emit("cancelled")}}},R={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.openedUpdateDialog,callback:function(t){e.openedUpdateDialog=t},expression:"openedUpdateDialog"}},[r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-title",{staticClass:"headline"},[e._v("Updating Working Time")]),e._v(" "),r("v-card-text",[r("h3",[e._v("Updating working time for user "+e._s(e.currentItem.user))]),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"},on:{mouseover:function(t){return e.setAnnouncer("set new date, currently "+e.date)}}},[r("v-text-field",{attrs:{label:"Date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"},on:{mouseover:function(t){return e.setAnnouncer("set new start hour, currently "+e.start)}}},[r("v-text-field",{attrs:{label:"Clock'in"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"},on:{mouseover:function(t){return e.setAnnouncer("set new end hour, currently "+e.end)}}},[r("v-text-field",{attrs:{label:"Clock'out"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}})],1)],1)],1),e._v(" "),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.handleCancel,mouseover:function(t){return e.setAnnouncer("cancel")}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{on:{click:e.handleConfirm,mouseover:function(t){return e.setAnnouncer("confirm modification")}}},[e._v("Confirm")])],1)],1)],1)},staticRenderFns:[]},I=r("VU/8")(B,R,!1,null,null,null).exports,L={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{dark:e.darkMode,fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"},on:{mouseover:function(t){return e.setAnnouncer("Select the date for working time creation currently "+e.datePicker)}}},[r("v-menu",{attrs:{dark:e.darkMode,"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{dark:e.darkMode,label:"Select the date of the working time","prepend-icon":"fa-calendar",readonly:""},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}},n))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[e._v(" "),r("v-date-picker",{attrs:{dark:e.darkMode},on:{input:function(t){e.dateMenu=!1}},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1)],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"6"},on:{mouseover:function(t){return e.setAnnouncer("Select the start hour for working time creation currently "+e.startTime)}}},[r("v-menu",{ref:"startMenu",attrs:{dark:e.darkMode,"close-on-content-click":!1,"nudge-right":40,"return-value":e.startTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{dark:e.darkMode,label:"Select the start hour of working time","prepend-icon":"far fa-clock",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},n))]}}]),model:{value:e.startMenu,callback:function(t){e.startMenu=t},expression:"startMenu"}},[e._v(" "),e.startMenu?r("v-time-picker",{attrs:{dark:e.darkMode},on:{"click:minute":function(t){return e.$refs.startMenu.save(e.startTime)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}):e._e()],1)],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"6"},on:{mouseover:function(t){return e.setAnnouncer("Select the end hour for working time creation currently "+e.endTime)}}},[r("v-menu",{ref:"endMenu",attrs:{dark:e.darkMode,"close-on-content-click":!1,"nudge-right":40,"return-value":e.endTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{dark:e.darkMode,label:"Select the end hour of working time","prepend-icon":"fas fa-clock",readonly:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},n))]}}]),model:{value:e.endMenu,callback:function(t){e.endMenu=t},expression:"endMenu"}},[e._v(" "),e.endMenu?r("v-time-picker",{attrs:{dark:e.darkMode},on:{"click:minute":function(t){return e.$refs.endMenu.save(e.endTime)}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}):e._e()],1)],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-btn",{attrs:{dark:e.darkMode},on:{mouseover:function(t){return e.setAnnouncer("Valid the creation of working time the "+e.datePicker+" start at "+e.startTime+" and end at "+e.endTime)},click:e.handleCreateWorkingTime}},[e._v("Create working time")])],1)],1)],1)},staticRenderFns:[]};var V=r("VU/8")({data:function(){return{datePicker:null,startPicker:null,endPicker:null,dateMenu:!1,startMenu:!1,endMenu:!1,startTime:null,endTime:null}},computed:{darkMode:function(){return this.$store.state.darkMode}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},handleCreateWorkingTime:function(){if(!(this.startTime>=this.endTime)){var e={workingtime:{start:this.datePicker+" "+this.startTime+":00",end:this.datePicker+" "+this.endTime+":00",user:this.$store.state.user.id}};this.$emit("createWorkingTime",e)}}}},L,!1,function(e){r("axlK")},"data-v-9b5592b6",null).exports,O={props:{workingTimes:Array},data:function(){return{currentItem:null,item:null,headers:[{text:"Date",align:"left",sortable:!0,value:"date"},{text:"Clock'in",value:"in"},{text:"Clock'out",value:"out"}]}},computed:{darkMode:function(){return this.$store.state.darkMode}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},updateWorkingTime:function(e){this.$emit("updateWorkingTime",e)},deleteWorkingTime:function(e){this.$emit("deleteWorkingTime",e)}}},N={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{dark:e.darkMode}},[r("v-list",{attrs:{shaped:""}},[r("v-subheader",[e._v("Working Times")]),e._v(" "),e._l(e.workingTimes,function(t,n){return r("v-list-item",{key:n},[r("v-list-item-content",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"},on:{mouseover:function(r){return e.setAnnouncer(""+t.date)}}},[e._v(e._s(t.date))]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"},on:{mouseover:function(r){return e.setAnnouncer(""+t.in)}}},[e._v(e._s(t.in))]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"},on:{mouseover:function(r){return e.setAnnouncer(""+t.out)}}},[e._v(e._s(t.out))])],1)],1)],1),e._v(" "),r("v-list-item-action",[r("div",[r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.updateWorkingTime(t)},mouseover:function(r){return e.setAnnouncer("modify the working time of "+t.date+" start at "+t.in+" and end at "+t.out)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-pen")])],1),e._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.deleteWorkingTime(t)},mouseover:function(r){return e.setAnnouncer("delete the working time of "+t.date+" start at "+t.in+" and end at "+t.out)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-trash")])],1)],1)])],1)})],2)],1)},staticRenderFns:[]};var H={name:"WorkingTime",components:{DeleteWorkingTime:F,UpdateWorkingTime:I,CreateWorkingTime:V,EditWorkingTime:r("VU/8")(O,N,!1,function(e){r("mRLn")},"data-v-629a2681",null).exports},data:function(){return{openedDeleteDialog:!1,openedUpdateDialog:!1,creationMode:!0,currentItem:null,workingTimes:[]}},computed:{darkMode:function(){return this.$store.state.darkMode},userID:function(){return this.$route.params.userID},editMode:function(){return this.$route.params.editMode}},methods:{cancelledDelete:function(){this.openedDeleteDialog=!1},confirmedDelete:function(e){var t=this;return f()(h.a.mark(function r(){return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("deleteWorkingTime",e);case 2:204===r.sent.status?(t.fetchWorkingTimes(),t.$store.commit("createSnackBarSuccess",{text:"Working time successfully deleted!",announcer:t.$announcer})):t.$store.commit("createSnackBarError",{text:"An error occured while deleting working time!",announcer:t.$announcer}),t.openedDeleteDialog=!1;case 5:case"end":return r.stop()}},r,t)}))()},cancelledUpdate:function(){this.openedUpdateDialog=!1},confirmedUpdate:function(e){var t=this;return f()(h.a.mark(function r(){return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("updateWorkingTime",e);case 2:200===r.sent.status?(t.fetchWorkingTimes(),t.$store.commit("createSnackBarSuccess",{text:"Working time successfully updated!",announcer:t.$announcer})):t.$store.commit("createSnackBarError",{text:"An error occured while updating working time!",announcer:t.$announcer}),t.openedUpdateDialog=!1;case 5:case"end":return r.stop()}},r,t)}))()},createWorkingTime:function(e){var t=this;return f()(h.a.mark(function r(){return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("createWorkingTime",e);case 2:201===r.sent.status?t.$store.commit("createSnackBarSuccess",{text:"Working time successfully created!",announcer:t.$announcer}):t.$store.commit("createSnackBarError",{text:"An error occured while creating working time!",announcer:t.$announcer});case 4:case"end":return r.stop()}},r,t)}))()},updateWorkingTime:function(e){this.currentItem=e,this.openedUpdateDialog=!0},deleteWorkingTime:function(e){this.currentItem=e,this.openedDeleteDialog=!0},fetchWorkingTimes:function(){var e=this;return f()(h.a.mark(function t(){var r,n,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.workingTimes=[],r="2019-10-03 09:30:27",n="2019-08-03 09:30:27",t.next=5,e.$store.dispatch("getWorkingTimes",{id:e.$store.state.user.id,start:r,end:n});case 5:(a=t.sent).data.data.sort(function(e,t){return new Date(e.start)-new Date(t.start)}),a.data.data.reverse(),e.workingTimes=a.data.data.map(function(t){return{user:e.$store.state.user.username,date:t.start.split("T")[0],in:t.start.split("T")[1].split("Z")[0],out:t.end.split("T")[1].split("Z")[0],id:t.id}});case 9:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.editMode&&void 0!==this.editMode?this.creationMode=!1:this.creationMode=!0,this.fetchWorkingTimes()},watch:{$route:function(e,t){this.editMode&&void 0!==this.editMode?this.creationMode=!1:this.creationMode=!0}}},J={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.openedUpdateDialog?r("UpdateWorkingTime",{attrs:{openedUpdateDialog:e.openedUpdateDialog,currentItem:e.currentItem},on:{confirmed:e.confirmedUpdate,cancelled:e.cancelledUpdate}}):e._e(),e._v(" "),e.openedDeleteDialog?r("DeleteWorkingTime",{attrs:{openedDeleteDialog:e.openedDeleteDialog,currentItem:e.currentItem},on:{confirmed:e.confirmedDelete,cancelled:e.cancelledDelete}}):e._e(),e._v(" "),e.creationMode?r("div",[r("CreateWorkingTime",{on:{createWorkingTime:e.createWorkingTime}})],1):r("div",[r("EditWorkingTime",{attrs:{workingTimes:e.workingTimes},on:{deleteWorkingTime:e.deleteWorkingTime,updateWorkingTime:e.updateWorkingTime}})],1)],1)},staticRenderFns:[]};var Y=r("VU/8")(H,J,!1,function(e){r("Ffb1")},"data-v-5a0fc7e0",null).exports,Z=r("mvHQ"),q=r.n(Z),j={props:{chart:String,title:String},computed:{darkMode:function(){return this.$store.state.darkMode},getChart:function(){return this.$store.state[this.chart]}},data:function(){return{position:null,size:null,displayed:null,colors:[],availableSize:[4,6,8,12],availablePosition:[0,1,2,3]}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},handlePositionChange:function(e){var t={chart:this.chart,position:e};this.$emit("handlePositionChange",t)},handleColorsChange:function(e,t,r){var n=t;n[r]=e;var a={chart:this.chart,colors:n};this.$emit("handleColorsChange",a)},handleSizeChange:function(e){var t={chart:this.chart,size:e};this.$emit("handleSizeChange",t)},handleDisplayedChange:function(e){var t={chart:this.chart,displayed:e};this.$emit("handleDisplayedChange",t)}},created:function(){this.colors=this.getChart.colors,this.position=this.getChart.position,this.size=this.getChart.size,this.displayed=this.getChart.displayed},watch:{getChart:{handler:function(e){this.colors=this.getChart.colors,this.position=this.getChart.position,this.size=this.getChart.size,this.displayed=this.getChart.displayed},deep:!0}}},K={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-title",[e._v(e._s(e.title))]),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("v-switch",{attrs:{label:"Displayed"},on:{mouseover:function(t){return e.setAnnouncer("set "+e.title+" "+(e.displayed?"not displayed":"displayed"))},change:e.handleDisplayedChange},model:{value:e.displayed,callback:function(t){e.displayed=t},expression:"displayed"}})],1)],1),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-radio-group",{attrs:{label:"Size"},on:{change:e.handleSizeChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.availableSize,function(t){return r("v-radio",{key:t,attrs:{label:""+t,value:t},on:{mouseover:function(r){return e.setAnnouncer("set the size of "+e.title+" to "+t+", currently "+e.size)}}})}),1)],1),e._v(" "),r("v-col",{attrs:{cols:"2"}},[r("v-radio-group",{attrs:{label:"Position"},on:{change:e.handlePositionChange},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}},e._l(e.availablePosition,function(t){return r("v-radio",{key:t,attrs:{label:""+t,value:t},on:{mouseover:function(r){return e.setAnnouncer("set the position of "+e.title+" to "+t+", currently "+e.position)}}})}),1)],1),e._v(" "),e._l(e.getChart.colors.length,function(t){return r("v-col",{key:t,attrs:{cols:"4"},on:{mouseover:function(t){return e.setAnnouncer("change the color of "+e.title)}}},[r("v-color-picker",{attrs:{label:"Color","hide-inputs":"",dark:e.darkMode},on:{input:function(r){return e.handleColorsChange(r,e.colors,t-1)}},model:{value:e.colors[t-1],callback:function(r){e.$set(e.colors,t-1,r)},expression:"colors[color - 1]"}})],1)})],2)],1)],1)],1)},staticRenderFns:[]};var G={name:"ChartManager",components:{ChartManagement:r("VU/8")(j,K,!1,function(e){r("ucKJ")},"data-v-76d5367d",null).exports},computed:{areaChart:function(){return this.$store.state.areaChart},barChart:function(){return this.$store.state.barChart},lineChart:function(){return this.$store.state.lineChart},donutChart:function(){return this.$store.state.donutChart}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},handleReinit:function(){this.$store.commit("reinitCharts")},handleSave:function(){localStorage.setItem("areaChart",q()(this.areaChart)),localStorage.setItem("barChart",q()(this.barChart)),localStorage.setItem("lineChart",q()(this.lineChart)),localStorage.setItem("donutChart",q()(this.donutChart))},handleColorsChange:function(e){this.$store.commit("setChartColors",e)},handleSizeChange:function(e){this.$store.commit("setChartSize",e)},handleDisplayedChange:function(e){this.$store.commit("setChartDisplayed",e)},handlePositionChange:function(e){this.$store.commit("setChartPosition",e)}}},X={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"},on:{mouseover:function(t){return e.setAnnouncer("Save changes")}}},[r("v-btn",{on:{click:e.handleSave}},[e._v("Save")])],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"},on:{mouseover:function(t){return e.setAnnouncer("Default settings")}}},[r("v-btn",{on:{click:e.handleReinit}},[e._v("Default Settings")])],1)],1),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[r("ChartManagement",{attrs:{title:"Area Chart",chart:e.areaChart.type},on:{handleDisplayedChange:e.handleDisplayedChange,handleSizeChange:e.handleSizeChange,handlePositionChange:e.handlePositionChange,handleColorsChange:e.handleColorsChange}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[r("ChartManagement",{attrs:{title:"Bar Chart",chart:e.barChart.type},on:{handleDisplayedChange:e.handleDisplayedChange,handleSizeChange:e.handleSizeChange,handlePositionChange:e.handlePositionChange,handleColorsChange:e.handleColorsChange}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[r("ChartManagement",{attrs:{title:"Donut Chart",chart:e.donutChart.type},on:{handleDisplayedChange:e.handleDisplayedChange,handleSizeChange:e.handleSizeChange,handlePositionChange:e.handlePositionChange,handleColorsChange:e.handleColorsChange}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[r("ChartManagement",{attrs:{title:"Line Chart",chart:e.lineChart.type},on:{handleDisplayedChange:e.handleDisplayedChange,handleSizeChange:e.handleSizeChange,handlePositionChange:e.handlePositionChange,handleColorsChange:e.handleColorsChange}})],1)],1)],1)},staticRenderFns:[]};var Q=r("VU/8")(G,X,!1,function(e){r("/Lqu")},"data-v-fd28e180",null).exports,ee={computed:{darkMode:function(){return this.$store.state.darkMode},currentUsername:function(){return this.$store.state.user.username},currentEmail:function(){return this.$store.state.user.email}},data:function(){return{username:"",updatePassword:!1,email:"",password1:"",showPassword1:!1,showPassword2:!1,password2:"",errors:[],emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},mounted:function(){this.username=this.currentUsername,this.email=this.currentEmail},methods:{emailCheck:function(){var e=this;return f()(h.a.mark(function t(){var r,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.emailRegex.test(e.email)?e.errors=e.errors.filter(function(e){return"Wrong email format."!==e}):e.errors.find(function(e){return"Wrong email format."===e})||e.errors.push("Wrong email format."),t.next=4,e.$store.dispatch("getUser",{email:e.email});case 4:r=t.sent,n=r.data.length,r.data[0].email===e.currentEmail&&(n=!1),n?e.errors.find(function(e){return"Email already exists."===e})||e.errors.push("Email already exists."):e.errors=e.errors.filter(function(e){return"Email already exists."!==e});case 8:case"end":return t.stop()}},t,e)}))()},usernameCheck:function(){var e=this;return f()(h.a.mark(function t(){var r,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUser",{username:e.username});case 2:r=t.sent,n=r.data.length,r.data[0].username===e.currentUsername&&(n=!1),n?e.errors.find(function(e){return"Username already exists."===e})||e.errors.push("Username already exists."):e.errors=e.errors.filter(function(e){return"Username already exists."!==e});case 6:case"end":return t.stop()}},t,e)}))()},passwordCheck:function(){if(this.updatePassword){if(this.password1!==this.password2)return void this.errors.push("Passwords are differents.");this.errors=this.errors.filter(function(e){return"Passwords are differents."!==e})}else this.errors=this.errors.filter(function(e){return"Passwords are differents."!==e})},confirm:function(){var e=this;return f()(h.a.mark(function t(){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},e.currentUsername!==e.username||e.currentEmail!==e.email||e.updatePassword){t.next=4;break}return e.$store.commit("createSnackBarError",{text:"Nothing to update!",announcer:e.$announcer}),t.abrupt("return");case 4:return t.next=6,e.passwordCheck();case 6:return t.next=8,e.emailCheck();case 8:return t.next=10,e.usernameCheck();case 10:if(!e.errors.length){t.next=12;break}return t.abrupt("return");case 12:return r={user:{username:e.username,email:e.email}},e.updatePassword&&(r.user.password=e.password1),t.next=16,e.$store.dispatch("updateUser",r);case 16:200===t.sent.status?(e.$store.commit("setUser",{username:e.username,email:e.email,roleid:e.$store.state.user.roleid,id:e.$store.state.user.id}),e.$store.commit("createSnackBarSuccess",{text:"Account successfully updated!",announcer:e.$announcer})):e.$store.commit("createSnackBarError",{text:"An error occured while updating you're account!",announcer:e.$announcer});case 18:case"end":return t.stop()}},t,e)}))()}}},te={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-card",{attrs:{large:"",dark:e.darkMode}},[r("v-card-title",[e._v("\n    Update Account Informations\n  ")]),e._v(" "),r("v-card-text",[e.errors.length?r("div",e._l(e.errors,function(t){return r("p",{key:t,staticClass:"error"},[e._v(e._s(t))])}),0):e._e(),e._v(" "),r("v-text-field",{attrs:{label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),r("v-text-field",{attrs:{label:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-switch",{attrs:{label:"Update password"},model:{value:e.updatePassword,callback:function(t){e.updatePassword=t},expression:"updatePassword"}}),e._v(" "),e.updatePassword?r("v-text-field",{attrs:{"append-icon":e.showPassword1?"fa-eye":"fa-eye-slash",type:e.showPassword1?"text":"password",label:"Password",required:""},on:{"click:append":function(t){e.showPassword1=!e.showPassword1}},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}):e._e(),e._v(" "),e.updatePassword?r("v-text-field",{attrs:{"append-icon":e.showPassword2?"fa-eye":"fa-eye-slash",type:e.showPassword2?"text":"password",label:"Confirm password",required:""},on:{"click:append":function(t){e.showPassword2=!e.showPassword2}},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}):e._e()],1),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:e.confirm}},[e._v("Confirm")])],1)],1)],1)},staticRenderFns:[]};var re=r("VU/8")(ee,te,!1,function(e){r("sLFT")},"data-v-27f4d5ec",null).exports,ne={data:function(){return{username:"",password:"",showPassword:!1,error:null}},mounted:function(){var e=this;return f()(h.a.mark(function t(){var r,n,a,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token"),(n=localStorage.getItem("userID"))&&"undefined"!==n&&r&&"undefined"!==r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$store.commit("setToken",r);case 6:return t.next=8,e.$store.dispatch("getUserByID",n);case 8:return a=t.sent,t.next=11,e.$store.commit("setUser",a.data);case 11:return t.next=13,e.$store.commit("setLogged");case 13:e.$store.commit("createSnackBarSuccess",{text:"Welcome back "+e.$store.state.user.username+" !",announcer:e.$announcer}),o=e.getRole(a.data.roleid),e.$router.push("/"+o+"/"+e.$store.state.user.id).catch(function(e){});case 16:case"end":return t.stop()}},t,e)}))()},methods:{getRole:function(e){var t=void 0;switch(e){case 1:t="employee";break;case 2:t="manager";break;case 3:t="superManager";break;case 4:t="administrator"}return t},login:function(){var e=this;return f()(h.a.mark(function t(){var r,n,a,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={auth:{username:e.username,password:e.password}},t.next=3,e.$store.dispatch("login",r);case 3:if((n=t.sent).status){t.next=9;break}return e.error="Wrong username or password.",t.abrupt("return");case 9:e.error=null;case 10:return t.next=12,e.$store.commit("setToken",n.token);case 12:return localStorage.setItem("token",n.token),localStorage.setItem("userID",n.user),t.next=16,e.$store.dispatch("getUserByID",n.user);case 16:return a=t.sent,t.next=19,e.$store.commit("setUser",a.data);case 19:return t.next=21,e.$store.commit("setLogged");case 21:e.$store.commit("createSnackBarSuccess",{text:"Welcome back "+e.$store.state.user.username+" !",announcer:e.$announcer}),o=e.getRole(a.data.roleid),e.$router.push("/"+o+"/"+e.$store.state.user.id);case 24:case"end":return t.stop()}},t,e)}))()}}},ae={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-card",[r("v-card-title",[e._v("Login")]),e._v(" "),r("v-card-text",[e.error?r("p",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),r("v-text-field",{attrs:{label:"Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),r("v-text-field",{attrs:{"append-icon":e.showPassword?"fa-eye":"fa-eye-slash",type:e.showPassword?"text":"password",label:"Password"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var oe=r("VU/8")(ne,ae,!1,function(e){r("4P3L")},"data-v-c72aa228",null).exports,se={name:"User",props:{drawer:Boolean,clipped:Boolean},data:function(){return{drawerCopy:null,darkModeCopy:!1,roleButtons:[]}},mounted:function(){switch(this.role){case"manager":this.roleButtons.push({text:"Manage Team",to:"/manager/"+this.id+"/manageTeam"});break;case"superManager":this.roleButtons.push({text:"Manage Employees",to:"/superManager/"+this.id+"/manageAllEmployees"}),this.roleButtons.push({text:"Manage Teams",to:"/superManager/"+this.id+"/manageAllTeams"});break;case"administrator":this.roleButtons.push({text:"Manage Acounts",to:"/administrator/"+this.id+"/manageAccounts"})}},computed:{darkMode:function(){return this.$store.state.darkMode},username:function(){return this.$store.state.user.username},email:function(){return this.$store.state.user.email},id:function(){return this.$store.state.user.id},role:function(){var e="";switch(this.$store.state.user.roleid){case 1:e="employee";break;case 2:e="manager";break;case 3:e="superManager";break;case 4:e="administrator"}return e}},created:function(){this.drawerCopy=this.drawer},watch:{darkModeCopy:function(){this.$store.commit("turnDarkMode")},drawer:function(e){e!==this.drawerCopy&&(this.drawerCopy=this.drawer)},drawerCopy:function(e){this.$emit("drawerCopy",e)}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},createUser:function(){},deleteUser:function(){var e=this;return f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deleteUser",e.id);case 2:204===t.sent.status?(e.$store.commit("createSnackBarSuccess",{text:"Accound successfully deleted!",announcer:e.$announcer}),e.$router.push("/login")):e.$store.commit("createSnackBarSuccess",{text:"An error occured while deleting you're account!",announcer:e.$announcer});case 4:case"end":return t.stop()}},t,e)}))()},signOut:function(){this.$store.commit("unsetLogged"),this.$store.commit("setUser",{}),localStorage.removeItem("token"),localStorage.removeItem("userID"),this.$router.push("/login")}}},ie={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{attrs:{clipped:e.clipped,app:"",light:!e.darkMode,dark:e.darkMode},model:{value:e.drawerCopy,callback:function(t){e.drawerCopy=t},expression:"drawerCopy"}},[r("v-list",{staticClass:"myList"},[r("v-list-item-title",[e._v("User Informations")]),e._v(" "),r("v-list-item",{attrs:{link:"","two-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"title"},[e._v(e._s(e.username))]),e._v(" "),r("v-list-item-subtitle",[e._v(e._s(e.email))])],1)],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list",{attrs:{nav:"",dense:""}},[r("v-list-item",[r("v-switch",{on:{mouseover:function(t){return e.setAnnouncer("Switch dark mode "+!e.darkModeCopy)}},model:{value:e.darkModeCopy,callback:function(t){e.darkModeCopy=t},expression:"darkModeCopy"}}),e._v(" "),r("v-list-item-title",[e._v("Dark Mode")])],1),e._v(" "),r("v-list-item",{attrs:{link:""},on:{click:e.signOut,mouseover:function(t){return e.setAnnouncer("Sign Out")}}},[r("v-list-item-icon",[r("v-icon",[e._v("fa-sign-out-alt")])],1),e._v(" "),r("v-list-item-title",[e._v("Sign Out")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("div",[r("v-btn",{attrs:{text:"",link:"",to:"/"+e.role+"/"+e.id+"/clock"}},[e._v("Clock Manager")]),e._v(" "),r("v-btn",{attrs:{text:"",link:"",to:"/"+e.role+"/"+e.id+"/workingTimes/"+e.id+"/"+e.username}},[e._v("Working Times")]),e._v(" "),r("v-btn",{attrs:{text:"",link:"",to:"/"+e.role+"/"+e.id+"/chartManager"}},[e._v("Chart Manager")]),e._v(" "),r("v-btn",{attrs:{text:"",link:"",to:"/"+e.role+"/"+e.id+"/editAccount"}},[e._v("Edit Account")])],1),e._v(" "),r("v-divider"),e._v(" "),r("div",{staticClass:"hidden-md-and-up"},e._l(e.roleButtons,function(t){return r("v-btn",{key:t.text,attrs:{text:"",link:"",to:t.to}},[e._v(e._s(t.text))])}),1)],1)],1)},staticRenderFns:[]};var ce=r("VU/8")(se,ie,!1,function(e){r("JCDq")},"data-v-51d07342",null).exports,ue={components:{User:ce},computed:{getBackgroundColor:function(){return this.darkMode?"#686767":"#FFFFFF"},darkMode:function(){return this.$store.state.darkMode},logged:function(){return this.$store.state.logged},snackBar:function(){return this.$store.state.snackBar},id:function(){return this.$store.state.user.id},username:function(){return this.$store.state.user.username}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},drawerCopy:function(e){e!==this.drawer&&(this.drawer=e)}},data:function(){return{drawer:!1,clipped:!1}}},le={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("User",{attrs:{clipped:e.clipped,drawer:e.drawer},on:{drawerCopy:e.drawerCopy}}),e._v(" "),r("v-card",[r("v-app-bar",{attrs:{fixed:"",app:"",light:!e.darkMode,dark:e.darkMode}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer},mouseover:function(t){return e.setAnnouncer((e.drawer?"close":"open")+" the sidebar")}}},[r("v-icon",[e._v(e._s(e.drawer?"fa-caret-left":"fa-bars"))])],1),e._v(" "),r("v-toolbar-title",[e._v("Employee TimeManager")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"})],1)],1),e._v(" "),r("v-content",[r("v-container",[r("router-view")],1)],1)],1)},staticRenderFns:[]},de=r("VU/8")(ue,le,!1,null,null,null).exports,me={components:{User:ce},computed:{getBackgroundColor:function(){return this.darkMode?"#686767":"#FFFFFF"},darkMode:function(){return this.$store.state.darkMode},logged:function(){return this.$store.state.logged},snackBar:function(){return this.$store.state.snackBar},id:function(){return this.$store.state.user.id},username:function(){return this.$store.state.user.username}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},drawerCopy:function(e){e!==this.drawer&&(this.drawer=e)}},data:function(){return{drawer:!1,clipped:!1}}},he={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("User",{attrs:{clipped:e.clipped,drawer:e.drawer},on:{drawerCopy:e.drawerCopy}}),e._v(" "),r("v-card",[r("v-app-bar",{attrs:{fixed:"",app:"",light:!e.darkMode,dark:e.darkMode}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer},mouseover:function(t){return e.setAnnouncer((e.drawer?"close":"open")+" the sidebar")}}},[r("v-icon",[e._v(e._s(e.drawer?"fa-caret-left":"fa-bars"))])],1),e._v(" "),r("v-toolbar-title",[e._v("Manager TimeManager")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[r("v-btn",{attrs:{text:"",link:"",to:"/manager/"+e.id+"/manageTeam"},on:{mouseover:function(t){return e.setAnnouncer("Go to edit manage team")}}},[e._v("Manage Team")])],1)],1)],1),e._v(" "),r("v-content",[r("v-container",[r("router-view")],1)],1)],1)},staticRenderFns:[]},ve=r("VU/8")(me,he,!1,null,null,null).exports,fe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",e._l(e.teams,function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[e._v("\n              Team:\n              "),r("h3",[e._v(e._s(t.name))])]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[e._v("Manager: "+e._s(t.manager))])],1)],1),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("h3",[e._v("Employees:")])]),e._v(" "),r("v-row",e._l(t.employee,function(t){return r("v-col",{key:t.id,attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e._v("\n                "+e._s(t.username)+" (nÂ°"+e._s(t.id)+")\n                "),r("v-btn",{attrs:{icon:"",link:"",to:"/manager/"+e.id+"/editWorkingTimes/"+t.id}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-plus")])],1),e._v(" "),r("v-btn",{attrs:{icon:"",link:"",to:"/manager/"+e.id+"/editWorkingTimes/"+t.id+"/1"}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-list")])],1),e._v(" "),r("v-btn",{attrs:{icon:"",link:"",to:"/manager/"+e.id+"/workingTimes/"+t.id+"/"+t.username}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-chart-bar")])],1)],1)}),1)],1)],1)],1)],1)}),1)],1)},staticRenderFns:[]},pe=r("VU/8")({computed:{darkMode:function(){return this.$store.state.darkMode},id:function(){return this.$store.state.user.id}},mounted:function(){},data:function(){return{teams:[{name:"JS",manager:"manager",employee:[{id:1,username:"Claude"},{id:12,username:"Gilles"},{id:10,username:"Sophie"},{id:4,username:"Jacques"}]},{name:"C++",manager:"manager",employee:[{id:2,username:"Jean-Mi"},{id:7,username:"Damien"},{id:3,username:"Caroline"},{id:8,username:"Julie"}]},{name:"PHPLOL",manager:"manager",employee:[{id:5,username:"Yves"},{id:6,username:"Jean"},{id:9,username:"Yoann"},{id:13,username:"Arnaud"},{id:15,username:"Maxime"},{id:14,username:"Antoine"},{id:20,username:"Karim"},{id:19,username:"Matthieu"}]}]}}},fe,!1,null,null,null).exports,ge={components:{User:ce},computed:{getBackgroundColor:function(){return this.darkMode?"#686767":"#FFFFFF"},darkMode:function(){return this.$store.state.darkMode},logged:function(){return this.$store.state.logged},snackBar:function(){return this.$store.state.snackBar},id:function(){return this.$store.state.user.id},username:function(){return this.$store.state.user.username}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},drawerCopy:function(e){e!==this.drawer&&(this.drawer=e)}},data:function(){return{drawer:!1,clipped:!1}}},ke={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("User",{attrs:{clipped:e.clipped,drawer:e.drawer},on:{drawerCopy:e.drawerCopy}}),e._v(" "),r("v-card",[r("v-app-bar",{attrs:{fixed:"",app:"",light:!e.darkMode,dark:e.darkMode}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer},mouseover:function(t){return e.setAnnouncer((e.drawer?"close":"open")+" the sidebar")}}},[r("v-icon",[e._v(e._s(e.drawer?"fa-caret-left":"fa-bars"))])],1),e._v(" "),r("v-toolbar-title",[e._v("Super Manager TimeManager")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[r("v-btn",{attrs:{text:"",link:"",to:"/superManager/"+e.id+"/manageAllEmployees"},on:{mouseover:function(t){return e.setAnnouncer("Go to manage employees")}}},[e._v("Manage Employees")]),e._v(" "),r("v-btn",{attrs:{text:"",link:"",to:"/superManager/"+e.id+"/manageAllTeams"},on:{mouseover:function(t){return e.setAnnouncer("Go to manage teams")}}},[e._v("Manage Teams")])],1)],1)],1),e._v(" "),r("v-content",[r("v-container",[r("router-view")],1)],1)],1)},staticRenderFns:[]},_e=r("VU/8")(ge,ke,!1,null,null,null).exports,we={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{dark:e.darkMode}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[r("v-btn",[e._v("Create New Team")])],1)],1),e._v(" "),r("v-row",e._l(e.teams,function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[e._v("\n              Team:\n              "),r("h3",[e._v(e._s(t.name))])]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[e._v("Manager: "+e._s(t.manager))])],1)],1),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("h3",[e._v("Employees:")])]),e._v(" "),r("v-row",e._l(t.employee,function(n){return r("v-col",{key:n.id,attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e._v("\n                "+e._s(n.username)+" (nÂ°"+e._s(n.id)+")\n                "),r("v-btn",{attrs:{icon:"",link:"",to:"/manager/"+e.id+"/editWorkingTimes/"+n.id}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-plus")])],1),e._v(" "),r("v-btn",{attrs:{icon:"",link:"",to:"/manager/"+e.id+"/editWorkingTimes/"+n.id+"/1"}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-list")])],1),e._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.deleteMemberFromTeam(t,n)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-times-circle")])],1)],1)}),1)],1)],1),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:function(r){return e.addMember(t)}}},[e._v("Add new member")]),e._v(" "),r("v-btn",{on:{click:function(r){return e.deleteTeam(t)}}},[e._v("Delete Team")])],1)],1)],1)}),1)],1)},staticRenderFns:[]},Ce=r("VU/8")({computed:{darkMode:function(){return this.$store.state.darkMode},id:function(){return this.$store.state.user.id}},methods:{changeRoleId:function(){},deleteMemberFromTeam:function(e,t){var r=this.teams.findIndex(function(t){return t.name===e.name});this.teams[r].employee=this.teams[r].employee.filter(function(e){return e.id!==t.id})},addMember:function(e){},deleteTeam:function(e){this.teams=this.teams.filter(function(t){return t.name!==e.name})}},mounted:function(){},data:function(){return{teams:[{name:"JS",manager:"Linus Torvald",employee:[{id:1,username:"Claude"},{id:12,username:"Gilles"},{id:10,username:"Sophie"},{id:4,username:"Jacques"}]},{name:"C++",manager:"Mayolul",employee:[{id:2,username:"Jean-Mi"},{id:7,username:"Damien"},{id:3,username:"Caroline"},{id:8,username:"Julie"}]},{name:"PHPLOL",manager:"Damso",employee:[{id:5,username:"Yves"},{id:6,username:"Jean"},{id:9,username:"Yoann"},{id:13,username:"Arnaud"},{id:15,username:"Maxime"},{id:14,username:"Antoine"},{id:20,username:"Karim"},{id:19,username:"Matthieu"}]}]}}},we,!1,null,null,null).exports,ye={props:{dialog:Boolean,employee:Object},methods:{cancel:function(){this.$emit("cancelUpdateRole")},confirm:function(){this.$emit("confirmUpdateRole",this.value)}},mounted:function(){this.value=this.employee.roleid},data:function(){return{value:null,roles:[{value:1,text:"Employee"},{value:2,text:"Manager"},{value:3,text:"Super Manager"},{value:4,text:"Administrator"}]}}},xe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Change role of "+e._s(e.employee.username))])]),e._v(" "),r("v-card-text",[r("v-select",{attrs:{items:e.roles,filled:"",label:"Select Role"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:e.cancel}},[e._v("Cancel")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{on:{click:e.confirm}},[e._v("Confirm")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var be={components:{ChangeRole:r("VU/8")(ye,xe,!1,function(e){r("DEWD")},"data-v-02c23984",null).exports},computed:{darkMode:function(){return this.$store.state.darkMode}},methods:{changeRoleId:function(e){this.employee=e,this.dialog=!0},cancelUpdateRole:function(){this.employee=null,this.dialog=!1},confirmUpdateRole:function(e){this.employee=null,this.dialog=!1},getRole:function(e){switch(e){case 1:return"Employee";case 2:return"Manager";case 3:return"Super Manager";case 4:return"Administrator"}}},data:function(){return{employee:null,dialog:!1,employees:[{username:"lol",roleid:1,email:"lol@lol.com"},{username:"lul",roleid:2,email:"lul@lul.com"},{username:"lal",roleid:3,email:"lal@lal.com"},{username:"lil",roleid:1,email:"lil@lil.com"}]}}},$e={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[e.dialog?r("ChangeRole",{attrs:{dialog:e.dialog,employee:e.employee},on:{cancelUpdateRole:e.cancelUpdateRole,confirmUpdateRole:e.confirmUpdateRole}}):e._e(),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-text",[r("v-container",[r("v-row",e._l(e.employees,function(t){return r("v-col",{key:t.username,attrs:{cols:"12",sm:"12",md:"12",lg:"6"}},[e._v("\n                "+e._s(t.username)+" "+e._s(t.email)+" "+e._s(e.getRole(t.roleid))+"\n                "),r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.changeRoleId(t)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-sort")])],1)],1)}),1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Me=r("VU/8")(be,$e,!1,function(e){r("ZC2B")},"data-v-9bf7c068",null).exports,Te={components:{User:ce},computed:{getBackgroundColor:function(){return this.darkMode?"#686767":"#FFFFFF"},darkMode:function(){return this.$store.state.darkMode},logged:function(){return this.$store.state.logged},snackBar:function(){return this.$store.state.snackBar},id:function(){return this.$store.state.user.id},username:function(){return this.$store.state.user.username}},methods:{setAnnouncer:function(e){this.$announcer.set(e)},drawerCopy:function(e){e!==this.drawer&&(this.drawer=e)}},data:function(){return{drawer:!1,clipped:!1}}},De={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("User",{attrs:{clipped:e.clipped,drawer:e.drawer},on:{drawerCopy:e.drawerCopy}}),e._v(" "),r("v-card",[r("v-app-bar",{attrs:{fixed:"",app:"",light:!e.darkMode,dark:e.darkMode}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer},mouseover:function(t){return e.setAnnouncer((e.drawer?"close":"open")+" the sidebar")}}},[r("v-icon",[e._v(e._s(e.drawer?"fa-caret-left":"fa-bars"))])],1),e._v(" "),r("v-toolbar-title",[e._v("Administrator TimeManager")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[r("v-btn",{attrs:{text:"",link:"",to:"/administrator/"+e.id+"/manageAccounts"},on:{mouseover:function(t){return e.setAnnouncer("Go to manage employees")}}},[e._v("Manage Accounts")])],1)],1)],1),e._v(" "),r("v-content",[r("v-container",[r("router-view")],1)],1)],1)},staticRenderFns:[]},Ae=r("VU/8")(Te,De,!1,null,null,null).exports,Ue={props:{dialog:Boolean},computed:{darkMode:function(){return this.$store.state.darkMode}},data:function(){return{username:"",errors:[],role:1,password:"",showPassword:!1,email:"",roles:[{value:1,text:"Employee"},{value:2,text:"Manager"},{value:3,text:"Super Manager"},{value:4,text:"Administrator"}],emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},methods:{cancel:function(){this.username="",this.email="",this.password="",this.showPassword=!1,this.$emit("cancelCreation")},emailCheck:function(){var e=this;return f()(h.a.mark(function t(){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.emailRegex.test(e.email)?e.errors=e.errors.filter(function(e){return"Wrong email format."!==e}):e.errors.find(function(e){return"Wrong email format."===e})||e.errors.push("Wrong email format."),t.next=4,e.$store.dispatch("getUser",{email:e.email});case 4:r=t.sent,r.data.length?e.errors.find(function(e){return"Email already exists."===e})||e.errors.push("Email already exists."):e.errors=e.errors.filter(function(e){return"Email already exists."!==e});case 7:case"end":return t.stop()}},t,e)}))()},usernameCheck:function(){var e=this;return f()(h.a.mark(function t(){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUser",{username:e.username});case 2:r=t.sent,r.data.length?e.errors.find(function(e){return"Username already exists."===e})||e.errors.push("Username already exists."):e.errors=e.errors.filter(function(e){return"Username already exists."!==e});case 5:case"end":return t.stop()}},t,e)}))()},createAccount:function(){var e={user:{username:this.username,email:this.email,password:this.password,roleid:this.role}};return this.$store.dispatch("createUser",e)},confirm:function(){var e=this;return f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.errors=e.errors.filter(function(e){return"An error occured while creating your account, please retry."!==e}),t.next=3,e.emailCheck();case 3:return t.next=5,e.usernameCheck();case 5:if(!e.errors.length){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.createAccount();case 9:201===t.sent.status?(e.errors=[],e.$emit("accountCreated")):e.errors.push("An error occured while creating your account, please retry.");case 11:case"end":return t.stop()}},t,e)}))()}}},Se={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{attrs:{darkMode:e.darkMode}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Account Creation")])]),e._v(" "),r("v-card-text",[e.errors.length?r("div",e._l(e.errors,function(t){return r("p",{key:t,staticClass:"error"},[e._v(e._s(t))])}),0):e._e(),e._v(" "),r("v-text-field",{attrs:{label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),r("v-text-field",{attrs:{"append-icon":e.showPassword?"fa-eye":"fa-eye-slash",type:e.showPassword?"text":"password",label:"Password"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("v-text-field",{attrs:{label:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-select",{attrs:{required:"",items:e.roles,filled:"",label:"Select Role"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:e.cancel}},[e._v("Cancel")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{on:{click:e.confirm}},[e._v("Confirm")])],1)],1)],1)],1)},staticRenderFns:[]},Ee={components:{CreateAccount:r("VU/8")(Ue,Se,!1,null,null,null).exports},computed:{darkMode:function(){return this.$store.state.darkMode}},methods:{sortBy:function(e){var t=this;this.employees="username"===e||"email"===e?this.employees.sort(function(r,n){return t.sort[e].up?r[e].localeCompare(n[e]):n[e].localeCompare(r[e])}):this.employees.sort(function(r,n){return t.sort[e].up?r[e]-n[e]:n[e]-r[e]}),this.sort[e].up=!this.sort[e].up},cancelCreation:function(){this.dialog=!1},accountCreated:function(){this.$store.commit("createSnackBarSuccess",{text:"Account created successfully !",announcer:this.$announcer}),this.fetchUsers(),this.dialog=!1},deleteAccount:function(e){var t=this;return f()(h.a.mark(function r(){return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("deleteUser",e.id);case 2:204!==r.sent.status?t.$store.commit("createSnackBarError",{text:"An error occured while deleting account !",announcer:t.$announcer}):(t.employees=t.employees.filter(function(t){return t.id!==e.id}),t.$store.commit("createSnackBarSuccess",{text:"Account deleted successfully !",announcer:t.$announcer}));case 4:case"end":return r.stop()}},r,t)}))()},getRole:function(e){switch(e){case 1:return"Employee";case 2:return"Manager";case 3:return"Super Manager";case 4:return"Administrator"}},fetchUsers:function(){var e=this;return f()(h.a.mark(function t(){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getAllUsers");case 2:r=t.sent,e.employees=r.data;case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.fetchUsers()},data:function(){return{sort:{username:{text:"Username",up:!0,size:"3"},email:{text:"Email",up:!0,size:"3"},roleid:{text:"Role",up:!0,size:"2"},id:{text:"Identifiant",up:!0,size:"2"}},dialog:!1,employees:[]}}},Pe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("CreateAccount",{attrs:{dialog:e.dialog},on:{cancelCreation:e.cancelCreation,accountCreated:e.accountCreated}}),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-card",{attrs:{dark:e.darkMode}},[r("v-card-title",[r("v-btn",{on:{click:function(t){e.dialog=!e.dialog}}},[e._v("Create Account")])],1),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[e._l(Object.keys(e.sort),function(t){return r("v-col",{key:t,attrs:{cols:"12",sm:e.sort[t].size}},[r("v-btn",{staticClass:"ma-2",attrs:{text:""},on:{click:function(r){return e.sortBy(t)}}},[e._v("\n                  "+e._s(e.sort[t].text)+"\n                  "),r("v-icon",{attrs:{dark:"",right:""}},[e._v("fa-sort-amount-"+e._s(e.sort[t].up?"up":"down")+"-alt")])],1)],1)}),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("span",{staticClass:"username"},[e._v("DELETE")])])],2),e._v(" "),e._l(e.employees,function(t){return r("v-row",{key:t.username},[r("v-col",{attrs:{cols:"12",sm:"3"}},[r("span",{staticClass:"username"},[e._v(e._s(t.username))])]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"3"}},[e._v(e._s(t.email))]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"2"}},[e._v(e._s(e.getRole(t.roleid)))]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"2"}},[e._v(e._s(t.id))]),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.deleteAccount(t)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-times-circle")])],1)],1)],1)})],2)],1)],1)],1)],1)],1)},staticRenderFns:[]};var We=r("VU/8")(Ee,Pe,!1,function(e){r("68f9")},"data-v-bda0db2e",null).exports,ze={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("Unauthorized")])},staticRenderFns:[]};var Fe=r("VU/8")({},ze,!1,function(e){r("qxzE")},"data-v-6f6537be",null).exports,Be={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("NOT FOUND")])},staticRenderFns:[]},Re=r("VU/8")(null,Be,!1,null,null,null).exports;n.default.use(a.a);var Ie=function(e,t){var r=o.a.state.user,n="";switch(e){case 1:n="employee";break;case 2:n="manager";break;case 3:n="superManager";break;case 4:n="administrator"}return!!t.fullPath.includes(n)&&(!(!r.roleid||!r.id||r.roleid!==e)&&t.fullPath.split("/")[2]===r.id.toString())},Le=function(e,t,r){var n=o.a.state.user;Ie(1,e)||r("/unauthorized");var a=n.id.toString();if(e.fullPath.includes("workingTimes")){var s=e.fullPath.split("/")[4];e.fullPath.split("/")[5]===n.username&&s===a||r("/unauthorized")}r()},Ve=function(e,t,r){var n=o.a.state.user;Ie(2,e)||r("/unauthorized");n.id.toString();if(e.fullPath.includes("editWorkingTimes")){var a=e.fullPath.split("/")[4];n.id!==a&&r("/unauthorized")}r()},Oe=function(e,t,r){if(Ie(3,e)||r("/unauthorized"),e.fullPath.includes("editWorkingTimes")){var n=e.fullPath.split("/")[4];user.id!==n&&r("/unauthorized")}r()},Ne=function(e,t,r){var n=o.a.state.user;Ie(4,e)||r("/unauthorized");var a=n.id.toString();if(e.fullPath.includes("workingTimes")){var s=e.fullPath.split("/")[4];e.fullPath.split("/")[5]===n.username&&s===a||r("/unauthorized")}r()},He=new a.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",redirect:"/login"},{path:"*",component:Re},{path:"/login",component:oe},{path:"/unauthorized",component:Fe},{path:"/employee/:userId",component:de,children:[{path:"",redirect:"clock"},{path:"clock",component:P,beforeEnter:Le},{path:"workingTimes/:id/:username",component:U,beforeEnter:Le},{path:"chartManager",component:Q,beforeEnter:Le},{path:"editAccount",component:re,beforeEnter:Le}]},{path:"/manager/:userId",component:ve,children:[{path:"",redirect:"clock"},{path:"clock",component:P,beforeEnter:Ve},{path:"workingTimes/:id/:username",component:U,beforeEnter:Ve},{path:"editAccount",component:re,beforeEnter:Ve},{beforeEnter:Ve,path:"chartManager",component:Q},{beforeEnter:Ve,path:"manageTeam",component:pe},{beforeEnter:Ve,path:"editWorkingTimes/:userID",component:Y},{beforeEnter:Ve,path:"editWorkingTimes/:userID/:editMode",component:Y}]},{path:"/superManager/:id",component:_e,children:[{path:"",redirect:"clock"},{path:"clock",component:P,beforeEnter:Oe},{path:"workingTimes/:id/:username",component:U,beforeEnter:Oe},{path:"editAccount",component:re,beforeEnter:Oe},{path:"chartManager",component:Q,beforeEnter:Oe},{path:"manageAllTeams",component:Ce,beforeEnter:Oe},{path:"manageAllEmployees",component:Me,beforeEnter:Oe}]},{path:"/administrator/:id",component:Ae,children:[{path:"",redirect:"clock"},{path:"clock",component:P,beforeEnter:Ne},{path:"workingTimes/:id/:username",component:U,beforeEnter:Ne},{path:"editAccount",component:re,beforeEnter:Ne},{path:"chartManager",component:Q,beforeEnter:Ne},{path:"manageAccounts",component:We,beforeEnter:Ne}]}]});He.beforeEach(function(e,t,r){"/login"===e.path||o.a.state.logged?r():r("/login")});t.a=He},h7zS:function(e,t){},mRLn:function(e,t){},olkN:function(e,t,r){"use strict";var n=r("woOf"),a=r.n(n),o=r("7+uW"),s=r("NYxO"),i=r("mtWM"),c=r.n(i),u=r("Rf8U"),l=r.n(u);c.a.defaults.headers.common["Content-Type"]="application/json",o.default.use(l.a,c.a),o.default.use(s.a);var d=new s.a.Store({state:{snackBar:{color:null,displayed:!1,text:""},host:"15.188.8.203",port:"4000",apiRoute:"http://15.188.8.203:4000/api",logged:!1,token:null,user:{username:null,id:null,email:null,roleid:null},darkMode:!1,areaChart:{size:6,position:1,type:"areaChart",displayed:!0,colors:["#36A2EB","#FF6384"]},barChart:{size:6,position:0,type:"barChart",displayed:!0,colors:["#36A2EB"]},lineChart:{size:6,position:3,type:"lineChart",displayed:!0,colors:["#36A2EB"]},donutChart:{size:6,position:2,type:"donutChart",displayed:!0,colors:["#36A2EB","#FF6384"]}},mutations:{setToken:function(e,t){e.token=t,c.a.defaults.headers.common.session_jwt=t},createSnackBarSuccess:function(e,t){var r=t.text;t.announcer.set(r),e.snackBar={color:"success",displayed:!0,text:r}},createSnackBarError:function(e,t){var r=t.text;t.announcer.set(r),e.snackBar={color:"error",displayed:!0,text:r}},unsetLogged:function(e){e.logged=!1},setLogged:function(e){e.logged=!0},setUser:function(e,t){a()(e.user,t)},turnDarkMode:function(e){e.darkMode=!e.darkMode},setChartPosition:function(e,t){var r=t.chart,n=t.position;e.areaChart.position=e.areaChart.type!==r&&e.areaChart.position===n?e[r].position:e.areaChart.position,e.barChart.position=e.barChart.type!==r&&e.barChart.position===n?e[r].position:e.barChart.position,e.lineChart.position=e.lineChart.type!==r&&e.lineChart.position===n?e[r].position:e.lineChart.position,e.donutChart.position=e.donutChart.type!==r&&e.donutChart.position===n?e[r].position:e.donutChart.position,e[r].position=n},setChartSize:function(e,t){var r=t.chart,n=t.size;e[r].size=n},setChartColors:function(e,t){var r=t.chart,n=t.colors;e[r].colors=n},setChartDisplayed:function(e,t){var r=t.chart,n=t.displayed;e[r].displayed=n},loadChart:function(e,t){a()(e[t.type],t)},reinitCharts:function(e){e.areaChart={size:6,position:1,type:"areaChart",displayed:!0,colors:["#36A2EB","#FF6384"]},e.barChart={size:6,position:0,type:"barChart",displayed:!0,colors:["#36A2EB"]},e.lineChart={size:6,position:3,type:"lineChart",displayed:!0,colors:["#36A2EB"]},e.donutChart={size:6,position:2,type:"donutChart",displayed:!0,colors:["#36A2EB","#FF6384"]}}},actions:{updateUser:function(e,t){var r=e.state;return c.a.put(r.apiRoute+"/users/"+r.user.id,t).then(function(e){return e})},login:function(e,t){var r=e.state,n="http://"+r.host+":"+r.port+"/auth";return c.a.post(n,t).then(function(e){return e.data})},getUserByID:function(e,t){var r=e.state,n="http://"+r.host+":"+r.port+"/api/users/"+t;return c.a.get(n).then(function(e){return e.data})},getAllUsers:function(e){var t=e.state,r="http://"+t.host+":"+t.port+"/api/users";return c.a.get(r).then(function(e){return e.data})},getUser:function(e,t){var r=e.state,n="http://"+r.host+":"+r.port+"/api/users";return n+=t.username?"?username="+t.username:"?",n+=t.username&&t.email?"&":"",n+=t.email?"email="+t.email:"",c.a.get(n).then(function(e){return e.data})},createUser:function(e,t){var r=e.state;return c.a.post("http://"+r.host+":"+r.port+"/api/users",t).then(function(e){return e})},deleteUser:function(e,t){var r=e.state,n=e.commit;return r.user&&t===r.user.id&&(n("setUser",{}),n("unsetLogged")),c.a.delete(r.apiRoute+"/users/"+t).then(function(e){return e})},getWorkingTimes:function(e,t){var r=e.state.apiRoute+"/workingtimes/"+t.id+"?start="+t.start+"&end="+t.end;return c.a.get(r,t.data).then(function(e){return e})},createWorkingTime:function(e,t){var r=e.state.apiRoute+"/workingtimes/"+t.workingtime.user;return c.a.post(r,t).then(function(e){return e})},updateWorkingTime:function(e,t){var r=e.state.apiRoute+"/workingtimes/"+t.id;return c.a.put(r,t.data).then(function(e){return e})},deleteWorkingTime:function(e,t){var r=e.state.apiRoute+"/workingtimes/"+t;return c.a.delete(r).then(function(e){return e})},getClocks:function(e,t){var r=e.state.apiRoute+"/clocks/"+t;return c.a.get(r).then(function(e){return e})},createClock:function(e,t){var r=e.state.apiRoute+"/clocks/"+t.id;return c.a.post(r,t.data).then(function(e){return e})}}});t.a=d},pZYK:function(e,t){},qxzE:function(e,t){},sLFT:function(e,t){},u4v6:function(e,t){},ucKJ:function(e,t){}},["NHnr"]);